{% extends "base.html" %}
{% load l10n_tags %}
{% load user_tags %}
{% load activity_tags %}

{% block title %}{{ profile.username }}{% endblock %}

{% block links %}
<link rel="alternate" type="application/atom+xml" href="{% locale_url activity_profile_feed username=profile.username %}" title="{{_('Activity from user\'s profile')}}" />
<link rel="alternate" type="application/atom+xml" href="{% locale_url activity_dashboard_feed username=profile.username %}" title="{{_('Activity from user\'s dashboard')}}"/>
<link rel="profile" href="http://microformats.org/profile/hcard" />
{% endblock %}

{% block bodyid %}user_profile{% endblock %}
{% block breadcrumbs %}
  <span class="arrow">&rsaquo;</span>
  <a href="{% locale_url users_user_list %}">{{ _('People') }}</a>
  <span class="arrow">&rsaquo;</span>
  <a href="{{ profile.get_absolute_url }}">{{ profile.username }}</a>
{% endblock %}
{% block breadcrumbs_actions %}
    {% if user == profile.user %}
      <a class="button" href="{% locale_url users_profile_edit %}">{{ _('Edit Profile') }}</a>
    {% endif %}
{% endblock %}

{% block body %}

{% user_sidebar %}

<div id="main">
  {% activity_filters request profile.get_absolute_url %}
  <ul id="posts">
    {% for activity in page.object_list %}
    {% include "activity/_activity_resource.html" %}
    {% endfor %}
  </ul>

  <div class="pagination">
    {% if page.has_previous %}
      <a class="btn" href="{% locale_url users_profile_view username=profile.username page=prev_page %}{% if query_string %}?{{ query_string }}{% endif %}">← {{ _('previous') }}</a>
    {% else %}
      <span class="btn">← {{ _('previous') }}</span>
    {% endif %}
    {% if page.has_next %}
      <a class="btn" href="{% locale_url users_profile_view username=profile.username page=next_page %}{% if query_string %}?{{ query_string }}{% endif %}">{{ _('next') }} →</a>
    {% else %}
      <span class="btn">{{_('next')}} →</span>
    {% endif %}
  </div>

</div> <!-- /#main -->

{% endblock %}

